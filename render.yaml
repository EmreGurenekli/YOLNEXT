<<<<<<< HEAD
# Render.com Deployment Configuration
# Backend ve Database için Render deployment ayarları

services:
  # PostgreSQL Database
  - type: postgres
    name: yolnext-database
    databaseName: yolnext
    user: yolnext_user
    plan: starter  # free tier için "starter", production için "standard" veya daha yüksek
    postgresMajorVersion: 15

  # Backend API Service
  - type: web
    name: yolnext-backend
    runtime: node
    plan: starter  # free tier için "starter"
    buildCommand: cd backend && npm install
    startCommand: cd backend && node server-modular.js
=======
services:
  - type: web
    name: yolnext-backend
    env: node
    buildCommand: cd backend && npm install
    startCommand: node server-modular.js
>>>>>>> d16e01282458675ee948d13b88a3dc5d9dde5b11
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
<<<<<<< HEAD
        value: 10000  # Render otomatik PORT atar, ama belirtmek iyi
      - key: DATABASE_URL
        fromDatabase:
          name: yolnext-database
          property: connectionString
      - key: JWT_SECRET
        generateValue: true  # Render otomatik generate eder
      - key: FRONTEND_ORIGIN
        sync: false  # Netlify URL'i buraya eklenecek
      - key: DB_POOL_MAX
        value: "20"
      - key: DB_IDLE_TIMEOUT
        value: "30000"
      - key: DB_CONNECTION_TIMEOUT
        value: "2000"
    healthCheckPath: /api/health/live
    autoDeploy: true  # GitHub push'ta otomatik deploy

# Not: Environment variables Render dashboard'dan da ayarlanabilir:
# - FRONTEND_ORIGIN: Netlify frontend URL'i (örn: https://yolnext.netlify.app)
# - EMAIL_SMTP_URL: Email servisi için (opsiyonel)
# - IYZICO_API_KEY: Ödeme gateway için (opsiyonel)
# - IYZICO_SECRET_KEY: Ödeme gateway için (opsiyonel)
# - SENTRY_DSN: Error tracking için (opsiyonel)
=======
        value: 5000
      - key: DATABASE_URL
        sync: false
      - key: JWT_SECRET
        sync: false
      - key: FRONTEND_ORIGIN
        sync: false

  - type: web
    name: yolnext-frontend
    env: static
    buildCommand: npm install && npm run build:frontend
    staticPublishPath: ./dist
    envVars:
      - key: VITE_API_URL
        sync: false














>>>>>>> d16e01282458675ee948d13b88a3dc5d9dde5b11

